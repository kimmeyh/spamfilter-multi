{
  "skills": [
    {
      "name": "validate-rules",
      "description": "Validate YAML rule files (rules.yaml and rules_safe_senders.yaml)",
      "command": "powershell",
      "args": [
        "-NoProfile",
        "-ExecutionPolicy",
        "Bypass",
        "-File",
        "scripts/validate-yaml-rules.ps1"
      ],
      "cwd": "${workspaceRoot}"
    },
    {
      "name": "test-regex",
      "description": "Test a regex pattern interactively",
      "command": "powershell",
      "args": [
        "-NoProfile",
        "-ExecutionPolicy",
        "Bypass",
        "-File",
        "scripts/test-regex-patterns.ps1",
        "-Pattern",
        "${input:pattern}",
        "-TestString",
        "${input:testString}"
      ],
      "cwd": "${workspaceRoot}",
      "inputs": {
        "pattern": {
          "type": "promptString",
          "description": "Enter regex pattern to test"
        },
        "testString": {
          "type": "promptString",
          "description": "Enter test string"
        }
      }
    },
    {
      "name": "full-test",
      "description": "Run all Flutter tests and analyze code",
      "command": "powershell",
      "args": [
        "-NoProfile",
        "-ExecutionPolicy",
        "Bypass",
        "-Command",
        "cd mobile-app; flutter test; if ($LASTEXITCODE -eq 0) { flutter analyze } else { exit $LASTEXITCODE }"
      ],
      "cwd": "${workspaceRoot}"
    },
    {
      "name": "quick-test",
      "description": "Run specific test file",
      "command": "flutter",
      "args": [
        "test",
        "${input:testFile}"
      ],
      "cwd": "${workspaceRoot}/mobile-app",
      "inputs": {
        "testFile": {
          "type": "promptString",
          "description": "Test file path (e.g., test/unit/rule_evaluator_test.dart)"
        }
      }
    },
    {
      "name": "deploy-debug",
      "description": "Build, install, and launch debug APK on emulator (preserves accounts)",
      "command": "powershell",
      "args": [
        "-NoProfile",
        "-ExecutionPolicy",
        "Bypass",
        "-File",
        "mobile-app/scripts/build-with-secrets.ps1",
        "-BuildType",
        "debug",
        "-InstallToEmulator",
        "-StartEmulator",
        "-SkipUninstall"
      ],
      "cwd": "${workspaceRoot}"
    },
    {
      "name": "deploy-clean",
      "description": "Build and install debug APK with clean install (removes accounts)",
      "command": "powershell",
      "args": [
        "-NoProfile",
        "-ExecutionPolicy",
        "Bypass",
        "-File",
        "mobile-app/scripts/build-with-secrets.ps1",
        "-BuildType",
        "debug",
        "-InstallToEmulator",
        "-StartEmulator"
      ],
      "cwd": "${workspaceRoot}"
    },
    {
      "name": "deploy-release",
      "description": "Build and install release APK",
      "command": "powershell",
      "args": [
        "-NoProfile",
        "-ExecutionPolicy",
        "Bypass",
        "-File",
        "mobile-app/scripts/build-with-secrets.ps1",
        "-BuildType",
        "release",
        "-InstallToEmulator",
        "-StartEmulator"
      ],
      "cwd": "${workspaceRoot}"
    },
    {
      "name": "check-coverage",
      "description": "Run tests with coverage report",
      "command": "powershell",
      "args": [
        "-NoProfile",
        "-ExecutionPolicy",
        "Bypass",
        "-Command",
        "cd mobile-app; flutter test --coverage; if ($LASTEXITCODE -eq 0) { Write-Host 'Coverage report generated: coverage/lcov.info' }"
      ],
      "cwd": "${workspaceRoot}"
    },
    {
      "name": "setup-mcp",
      "description": "Setup Claude Code MCP servers",
      "command": "powershell",
      "args": [
        "-NoProfile",
        "-ExecutionPolicy",
        "Bypass",
        "-File",
        "scripts/setup-claude-mcp.ps1",
        "-InstallAll"
      ],
      "cwd": "${workspaceRoot}"
    },
    {
      "name": "commit-phase",
      "description": "Create structured commit for current phase",
      "command": "powershell",
      "args": [
        "-NoProfile",
        "-ExecutionPolicy",
        "Bypass",
        "-Command",
        "$phase = Read-Host 'Enter phase (e.g., 3.1, 3.2)'; $msg = Read-Host 'Enter commit message'; git add -A; git commit -m \"Phase $phase: $msg\""
      ],
      "cwd": "${workspaceRoot}"
    }
  ]
}
